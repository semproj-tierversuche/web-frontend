<meta name="viewport" content="width=device-width, initial-scale=1">
<link rel="stylesheet" href="https://www.w3schools.com/w3css/4/w3.css">

<table class="table table-hover">
  <tbody>

  <!-- iteration through the data set-->
 <tr *ngFor="let data of middlewareData.Results">

   <!-- relevance column-->
   <!-- add green percentage bar-->
    <td id="article-score">
      <div *ngIf="data.Matching.Relevance>=0.7" class="w3-light-grey PercentageBarBackgroundGreen" style ="width: 60%; margin: 0 auto; min-width: 55px;">
        <div class="w3-container w3-green w3-center" [style.width.%]="changePercetageBarWidth(data.Matching.Relevance)"> <br></div>
      </div>

      <!-- add yellow percentage bar-->
      <div *ngIf="data.Matching.Relevance<0.7 && data.Matching.Relevance>0.3" class="w3-light-grey PercentageBarBackgroundYellow" style ="width: 60%; margin: 0 auto; position:relative; top: 30px;">
        <div class="w3-container middlePercentage w3-center" [style.width.%]="changePercetageBarWidth(data.Matching.Relevance)"> <br></div>
      </div>

      <!-- add red percentage bar-->
      <div *ngIf="data.Matching.Relevance<=0.3" class="w3-light-grey PercentageBarBackgroundRed" style ="width: 60%; margin: 0 auto; position:relative; top: 30px;">
        <div class="w3-container lowPercentage w3-center" [style.width.%]="changePercetageBarWidth(data.Matching.Relevance)"> <br></div>
      </div>
    </td>

   <!-- PMID column-->
   <td id="article-PMID">
      <a target="_blank" href="https://www.ncbi.nlm.nih.gov/pubmed/?term={{data.Record.PMID}}" style="display:block; height: 100%">
        {{data.Record.PMID}} </a>
    </td>

   <!-- title etc. column-->
   <td id="article-information">
     <a target="_blank" href="https://www.ncbi.nlm.nih.gov/pubmed/?term={{data.Record.PMID}}">
      <p class="ref">{{data.Record.Title}}</p>
      <p>{{data.Record.Date}}</p>
      <p id="authors">{{data.Record.Authors}}</p></a>
    </td>

   <!-- compare click column -->
    <td id="search-details">
      <div>
        <img matTooltip="compare view" (click)="openCompareView(data)" src="assets/ICONS/compare-view-icon.png"/>
        <img class = "feedback-icon" (click)="openFeedback(data)" matTooltip="feedback" src="assets/ICONS/feedback-icon.png"/>
      </div>
    </td>
  </tr>

  </tbody>

</table>
